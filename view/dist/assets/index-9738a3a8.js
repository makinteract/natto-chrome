(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function E(){}const me=e=>e;function Pe(e){return e()}function ye(){return Object.create(null)}function P(e){e.forEach(Pe)}function se(e){return typeof e=="function"}function H(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ae;function Ye(e,t){return ae||(ae=document.createElement("a")),ae.href=t,e===ae.href}function Ze(e){return Object.keys(e).length===0}const Ie=typeof window<"u";let Oe=Ie?()=>window.performance.now():()=>Date.now(),_e=Ie?e=>requestAnimationFrame(e):E;const G=new Set;function je(e){G.forEach(t=>{t.c(e)||(G.delete(t),t.f())}),G.size!==0&&_e(je)}function Le(e){let t;return G.size===0&&_e(je),{promise:new Promise(n=>{G.add(t={c:e,f:n})}),abort(){G.delete(t)}}}function p(e,t){e.appendChild(t)}function Ke(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Qe(e){const t=_("style");return Xe(Ke(e),t),t.sheet}function Xe(e,t){return p(e.head||e,t),t.sheet}function A(e,t,n){e.insertBefore(t,n||null)}function M(e){e.parentNode&&e.parentNode.removeChild(e)}function et(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function z(e){return document.createTextNode(e)}function S(){return z(" ")}function tt(){return z("")}function C(e,t,n,a){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function m(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function nt(e){return Array.from(e.childNodes)}function V(e,t){t=""+t,e.data!==t&&(e.data=t)}function $e(e,t){e.value=t??""}function ke(e,t,n){for(let a=0;a<e.options.length;a+=1){const i=e.options[a];if(i.__value===t){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function at(e){const t=e.querySelector(":checked");return t&&t.__value}function ze(e,t,{bubbles:n=!1,cancelable:a=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,a,t),i}const re=new Map;let oe=0;function it(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function rt(e,t){const n={stylesheet:Qe(t),rules:{}};return re.set(e,n),n}function de(e,t,n,a,i,r,o,s=0){const l=16.666/a;let c=`{
`;for(let f=0;f<=1;f+=l){const h=t+(n-t)*r(f);c+=f*100+`%{${o(h,1-h)}}
`}const d=c+`100% {${o(n,1-n)}}
}`,v=`__svelte_${it(d)}_${s}`,y=Ke(e),{stylesheet:u,rules:b}=re.get(y)||rt(y,e);b[v]||(b[v]=!0,u.insertRule(`@keyframes ${v} ${d}`,u.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${v} ${a}ms linear ${i}ms 1 both`,oe+=1,v}function he(e,t){const n=(e.style.animation||"").split(", "),a=n.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),i=n.length-a.length;i&&(e.style.animation=a.join(", "),oe-=i,oe||ot())}function ot(){_e(()=>{oe||(re.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&M(t)}),re.clear())})}let ee;function Q(e){ee=e}function Be(){if(!ee)throw new Error("Function called outside component initialization");return ee}function st(e){Be().$$.on_mount.push(e)}function Fe(){const e=Be();return(t,n,{cancelable:a=!1}={})=>{const i=e.$$.callbacks[t];if(i){const r=ze(t,n,{cancelable:a});return i.slice().forEach(o=>{o.call(e,r)}),!r.defaultPrevented}return!0}}function He(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(a=>a.call(this,t))}const q=[],W=[];let J=[];const pe=[],lt=Promise.resolve();let ge=!1;function ct(){ge||(ge=!0,lt.then(Re))}function j(e){J.push(e)}function le(e){pe.push(e)}const ce=new Set;let U=0;function Re(){if(U!==0)return;const e=ee;do{try{for(;U<q.length;){const t=q[U];U++,Q(t),ut(t.$$)}}catch(t){throw q.length=0,U=0,t}for(Q(null),q.length=0,U=0;W.length;)W.pop()();for(let t=0;t<J.length;t+=1){const n=J[t];ce.has(n)||(ce.add(n),n())}J.length=0}while(q.length);for(;pe.length;)pe.pop()();ge=!1,ce.clear(),Q(e)}function ut(e){if(e.fragment!==null){e.update(),P(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}function ft(e){const t=[],n=[];J.forEach(a=>e.indexOf(a)===-1?t.push(a):n.push(a)),n.forEach(a=>a()),J=t}let Z;function De(){return Z||(Z=Promise.resolve(),Z.then(()=>{Z=null})),Z}function X(e,t,n){e.dispatchEvent(ze(`${t?"intro":"outro"}${n}`))}const ie=new Set;let O;function Ue(){O={r:0,c:[],p:O}}function qe(){O.r||P(O.c),O=O.p}function N(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function T(e,t,n,a){if(e&&e.o){if(ie.has(e))return;ie.add(e),O.c.push(()=>{ie.delete(e),a&&(n&&e.d(1),a())}),e.o(t)}else a&&a()}const Ge={duration:0};function We(e,t,n){const a={direction:"in"};let i=t(e,n,a),r=!1,o,s,l=0;function c(){o&&he(e,o)}function d(){const{delay:y=0,duration:u=300,easing:b=me,tick:g=E,css:f}=i||Ge;f&&(o=de(e,0,1,u,y,b,f,l++)),g(0,1);const h=Oe()+y,w=h+u;s&&s.abort(),r=!0,j(()=>X(e,!0,"start")),s=Le($=>{if(r){if($>=w)return g(1,0),X(e,!0,"end"),c(),r=!1;if($>=h){const x=b(($-h)/u);g(x,1-x)}}return r})}let v=!1;return{start(){v||(v=!0,he(e),se(i)?(i=i(a),De().then(d)):d())},invalidate(){v=!1},end(){r&&(c(),r=!1)}}}function xe(e,t,n,a){const i={direction:"both"};let r=t(e,n,i),o=a?0:1,s=null,l=null,c=null;function d(){c&&he(e,c)}function v(u,b){const g=u.b-o;return b*=Math.abs(g),{a:o,b:u.b,d:g,duration:b,start:u.start,end:u.start+b,group:u.group}}function y(u){const{delay:b=0,duration:g=300,easing:f=me,tick:h=E,css:w}=r||Ge,$={start:Oe()+b,b:u};u||($.group=O,O.r+=1),s||l?l=$:(w&&(d(),c=de(e,o,u,g,b,f,w)),u&&h(0,1),s=v($,g),j(()=>X(e,u,"start")),Le(x=>{if(l&&x>l.start&&(s=v(l,g),l=null,X(e,s.b,"start"),w&&(d(),c=de(e,o,s.b,s.duration,0,f,r.css))),s){if(x>=s.end)h(o=s.b,1-o),X(e,s.b,"end"),l||(s.b?d():--s.group.r||P(s.group.c)),s=null;else if(x>=s.start){const B=x-s.start;o=s.a+s.d*f(B/s.duration),h(o,1-o)}}return!!(s||l)}))}return{run(u){se(r)?De().then(()=>{r=r(i),y(u)}):y(u)},end(){d(),s=l=null}}}function ue(e,t,n){const a=e.$$.props[t];a!==void 0&&(e.$$.bound[a]=n,n(e.$$.ctx[a]))}function F(e){e&&e.c()}function L(e,t,n,a){const{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),a||j(()=>{const o=e.$$.on_mount.map(Pe).filter(se);e.$$.on_destroy?e.$$.on_destroy.push(...o):P(o),e.$$.on_mount=[]}),r.forEach(j)}function K(e,t){const n=e.$$;n.fragment!==null&&(ft(n.after_update),P(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(e,t){e.$$.dirty[0]===-1&&(q.push(e),ct(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function R(e,t,n,a,i,r,o,s=[-1]){const l=ee;Q(e);const c=e.$$={fragment:null,ctx:[],props:r,update:E,not_equal:i,bound:ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:ye(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},(v,y,...u)=>{const b=u.length?u[0]:y;return c.ctx&&i(c.ctx[v],c.ctx[v]=b)&&(!c.skip_bound&&c.bound[v]&&c.bound[v](b),d&&dt(e,v)),y}):[],c.update(),d=!0,P(c.before_update),c.fragment=a?a(c.ctx):!1,t.target){if(t.hydrate){const v=nt(t.target);c.fragment&&c.fragment.l(v),v.forEach(M)}else c.fragment&&c.fragment.c();t.intro&&N(e.$$.fragment),L(e,t.target,t.anchor,t.customElement),Re()}Q(l)}class D{$destroy(){K(this,1),this.$destroy=E}$on(t,n){if(!se(n))return E;const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(n),()=>{const i=a.indexOf(n);i!==-1&&a.splice(i,1)}}$set(t){this.$$set&&!Ze(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ht(e){let t,n,a,i,r,o,s,l,c,d,v,y,u,b,g,f,h,w,$,x,B,Y;return{c(){t=_("div"),n=_("div"),a=_("div"),i=_("button"),i.textContent="Fix grammar",r=S(),o=_("div"),s=_("button"),s.textContent="Elaborate",l=S(),c=_("div"),d=_("button"),d.textContent="Rewrite",v=S(),y=_("div"),u=_("button"),u.textContent="Summarize",b=S(),g=_("div"),f=_("div"),h=_("span"),w=z(e[0]),$=S(),x=_("button"),x.textContent="Translate to",m(i,"class","btn btn-accent w-32"),m(a,"class","text-primary-content grid place-content-center rounded"),m(s,"class","btn btn-accent w-32"),m(o,"class","text-accent-content grid place-content-center rounded"),m(d,"class","btn btn-accent w-32"),m(c,"class","text-secondary-content grid place-content-center rounded"),m(u,"class","btn btn-accent w-32"),m(y,"class","text-secondary-content grid place-content-center rounded"),m(h,"class","indicator-item indicator-top indicator-right badge badge-secondary"),m(x,"class","btn btn-accent w-32"),m(f,"class","indicator"),m(g,"class","text-secondary-content grid col-span-2 place-content-center rounded"),m(n,"class","grid grid-cols-2 gap-4 gap-y-8"),m(t,"class","flex justify-center")},m(k,I){A(k,t,I),p(t,n),p(n,a),p(a,i),p(n,r),p(n,o),p(o,s),p(n,l),p(n,c),p(c,d),p(n,v),p(n,y),p(y,u),p(n,b),p(n,g),p(g,f),p(f,h),p(h,w),p(f,$),p(f,x),B||(Y=[C(i,"click",e[2]),C(s,"click",e[3]),C(d,"click",e[4]),C(u,"click",e[5]),C(x,"click",e[6])],B=!0)},p(k,[I]){I&1&&V(w,k[0])},i:E,o:E,d(k){k&&M(t),B=!1,P(Y)}}}function pt(e,t,n){const a=Fe();let{language:i="EN"}=t;const r=()=>a("grammar"),o=()=>a("elaborate"),s=()=>a("rewrite"),l=()=>a("summarize"),c=()=>a("translate");return e.$$set=d=>{"language"in d&&n(0,i=d.language)},[i,a,r,o,s,l,c]}class gt extends D{constructor(t){super(),R(this,t,pt,ht,H,{language:0})}}function mt(e){let t,n,a,i,r,o;return{c(){t=_("div"),n=_("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>',a=S(),i=_("button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',m(n,"class","active"),m(i,"class","active"),m(t,"class","btm-nav h-min-0 h-12")},m(s,l){A(s,t,l),p(t,n),p(t,a),p(t,i),r||(o=[C(n,"click",e[2]),C(i,"click",e[3])],r=!0)},p:E,i:E,o:E,d(s){s&&M(t),r=!1,P(o)}}}function _t(e,t,n){const a=Fe();let{language:i="EN"}=t;const r=()=>a("home"),o=()=>a("options");return e.$$set=s=>{"language"in s&&n(1,i=s.language)},[a,i,r,o]}class bt extends D{constructor(t){super(),R(this,t,_t,mt,H,{language:1})}}function te(e={model:"gpt-4o-mini",temperature:0},t=[]){return n=>{const a={role:"user",content:n},i=[...t,a];return wt(i,e).then(r=>{const o=vt(r);return t.push(a),t.push(o.message),o})}}function ne(e){return e.message}function vt(e){const{error:t,object:n,created:a,model:i,usage:r,system_fingerprint:o}=e;if(t)throw t.message;const s=e.choices[0];if(s.finish_reason==="stop")return{object:n,created:a,model:i,usage:r,system_fingerprint:o,message:s.message};throw new Error("No response from AI")}function wt(e,t){let{apiKey:n,...a}=t;try{n||(n={}.OPENAI_API_KEY)}catch{}return fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({...a,messages:e})}).then(i=>i.json())}async function yt(){const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});return e}async function $t(){return(await yt()).id}async function Ee(e){const t=await $t();if(t)return new Promise((n,a)=>{chrome.tabs.sendMessage(t,e,function(i){n(i)})})}function fe(e){return new Promise((t,n)=>{chrome.storage.local.get(e,async a=>{const i=a[e];t(i)})})}async function kt(e,t,n){return(await(await te({model:t,apiKey:e}))(`
        Fix the typos, punctuation and lettercase of this text. Keep the same language. 
        Do not add any text that is not there. 
        If the sentence is already correct, just leave it.
        If the sentence cannot be fixed, just leave it as it is.
        Here the text:${n}`).then(ne)).content}async function xt(e,t,n){return(await(await te({model:t,apiKey:e}))(`
        Elaborate on the following text with more details. Provide more background or information. 
        Expand on the ideas, but keep the length of the final text similar in length to the input of the text below.
        Keep the same language.
        Here the text:${n}`).then(ne)).content}async function Et(e,t,n){return(await(await te({model:t,apiKey:e}))(`
        Paraphrase this text. Rewrite it with different words but keep the same length. 
        Keep the same language.
        Here the text:${n}`).then(ne)).content}async function St(e,t,n){return(await(await te({model:t,apiKey:e}))(`
        Summarize the following text. Keep the same language.
        Here the text:${n}`).then(ne)).content}async function Mt(e,t,n,a){return(await(await te({model:t,apiKey:e}))(`
      Translate the text in the ${a} language.
      Do not modify the text, its meaning or its tone.
      Here the text:${n}`).then(ne)).content}const Nt=""+new URL("mini-natto-56922c88.png",import.meta.url).href;function At(e){let t,n,a,i,r,o,s,l,c;return{c(){t=_("div"),n=_("div"),n.innerHTML='<a class="btn btn-ghost text-xl">Chrome Natto</a>',a=S(),i=_("div"),r=_("div"),o=_("div"),s=_("div"),l=_("img"),m(n,"class","flex-1"),m(l,"alt","Logo"),Ye(l.src,c=Nt)||m(l,"src",c),m(s,"class","w-10 rounded-full"),m(o,"tabindex","0"),m(o,"role","button"),m(o,"class","btn btn-ghost btn-circle avatar"),m(r,"class","dropdown dropdown-end"),m(i,"class","flex-none gap-2"),m(t,"class","navbar")},m(d,v){A(d,t,v),p(t,n),p(t,a),p(t,i),p(i,r),p(r,o),p(o,s),p(s,l)},p:E,i:E,o:E,d(d){d&&M(t)}}}class Ct extends D{constructor(t){super(),R(this,t,null,At,H,{})}}function Tt(e){const t=e-1;return t*t*t+1}function Se(e,{delay:t=0,duration:n=400,easing:a=me}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:a,css:r=>`opacity: ${r*i}`}}function Je(e,{delay:t=0,duration:n=400,easing:a=Tt,axis:i="y"}={}){const r=getComputedStyle(e),o=+r.opacity,s=i==="y"?"height":"width",l=parseFloat(r[s]),c=i==="y"?["top","bottom"]:["left","right"],d=c.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),v=parseFloat(r[`padding${d[0]}`]),y=parseFloat(r[`padding${d[1]}`]),u=parseFloat(r[`margin${d[0]}`]),b=parseFloat(r[`margin${d[1]}`]),g=parseFloat(r[`border${d[0]}Width`]),f=parseFloat(r[`border${d[1]}Width`]);return{delay:t,duration:n,easing:a,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*o};${s}: ${h*l}px;padding-${c[0]}: ${h*v}px;padding-${c[1]}: ${h*y}px;margin-${c[0]}: ${h*u}px;margin-${c[1]}: ${h*b}px;border-${c[0]}-width: ${h*g}px;border-${c[1]}-width: ${h*f}px;`}}function Me(e,t,n){const a=e.slice();return a[5]=t[n],a}function Ne(e){let t,n=e[5]+"",a,i;return{c(){t=_("option"),a=z(n),t.__value=i=e[5],t.value=t.__value},m(r,o){A(r,t,o),p(t,a)},p(r,o){o&4&&n!==(n=r[5]+"")&&V(a,n),o&4&&i!==(i=r[5])&&(t.__value=i,t.value=t.__value)},d(r){r&&M(t)}}}function Pt(e){let t,n,a,i,r,o,s,l=(e[0]||"Pick one")+"",c,d,v,y,u=e[2],b=[];for(let g=0;g<u.length;g+=1)b[g]=Ne(Me(e,u,g));return{c(){t=_("label"),n=_("div"),a=_("span"),i=z(e[1]),r=S(),o=_("select"),s=_("option"),c=z(l);for(let g=0;g<b.length;g+=1)b[g].c();m(a,"class","label-text"),m(n,"class","label"),s.disabled=!0,s.selected=!0,s.__value=d=e[0]||"Pick one",s.value=s.__value,m(o,"class","select select-bordered"),e[0]===void 0&&j(()=>e[4].call(o)),m(t,"class","form-control w-full max-w-xs")},m(g,f){A(g,t,f),p(t,n),p(n,a),p(a,i),p(t,r),p(t,o),p(o,s),p(s,c);for(let h=0;h<b.length;h+=1)b[h]&&b[h].m(o,null);ke(o,e[0],!0),v||(y=[C(o,"change",e[4]),C(o,"change",e[3])],v=!0)},p(g,[f]){if(f&2&&V(i,g[1]),f&1&&l!==(l=(g[0]||"Pick one")+"")&&V(c,l),f&5&&d!==(d=g[0]||"Pick one")&&(s.__value=d,s.value=s.__value),f&4){u=g[2];let h;for(h=0;h<u.length;h+=1){const w=Me(g,u,h);b[h]?b[h].p(w,f):(b[h]=Ne(w),b[h].c(),b[h].m(o,null))}for(;h<b.length;h+=1)b[h].d(1);b.length=u.length}f&5&&ke(o,g[0])},i:E,o:E,d(g){g&&M(t),et(b,g),v=!1,P(y)}}}function It(e,t,n){let{label:a=""}=t,{options:i=[]}=t,{selection:r=""}=t;function o(l){He.call(this,e,l)}function s(){r=at(this),n(0,r),n(2,i)}return e.$$set=l=>{"label"in l&&n(1,a=l.label),"options"in l&&n(2,i=l.options),"selection"in l&&n(0,r=l.selection)},[r,a,i,o,s]}class Ae extends D{constructor(t){super(),R(this,t,It,Pt,H,{label:1,options:2,selection:0})}}const Ot=["Abkhaz","Afar","Afrikaans","Akan","Albanian","Amharic","Arabic","Aragonese","Armenian","Assamese","Avaric","Avestan","Aymara","Azerbaijani","Bambara","Bashkir","Basque","Belarusian","Bengali","Bihari","Bislama","Bosnian","Breton","Bulgarian","Burmese","Catalan","Chamorro","Chechen","Chichewa","Chinese","Chuvash","Cornish","Corsican","Cree","Croatian","Czech","Danish","Divehi","Dutch","Dzongkha","English","Esperanto","Estonian","Ewe","Faroese","Fijian","Finnish","French","Fulah","Galician","Georgian","German","Greek","Guarani","Gujarati","Haitian","Hausa","Hebrew","Herero","Hindi","Hiri Motu","Hungarian","Interlingua","Indonesian","Interlingue","Irish","Igbo","Inupiaq","Ido","Icelandic","Italian","Inuktitut","Japanese","Javanese","Kalaallisut","Kannada","Kanuri","Kashmiri","Kazakh","Khmer","Kikuyu","Kinyarwanda","Kirghiz","Komi","Kongo","Korean","Kurdish","Kwanyama","Latin","Luxembourgish","Ganda","Limburgish","Lingala","Lao","Lithuanian","Luba-Katanga","Latvian","Manx","Macedonian","Malagasy","Malay","Malayalam","Maltese","Maori","Marathi","Marshallese","Mongolian","Nauru","Navajo","Norwegian Bokmål","North Ndebele","Nepali","Ndonga","Norwegian Nynorsk","Norwegian","Nuosu","South Ndebele","Occitan","Ojibwa","Old Church Slavonic","Oromo","Oriya","Ossetian","Panjabi","Pāli","Persian","Polish","Pashto","Portuguese","Quechua","Romansh","Kirundi","Romanian","Russian","Sanskrit","Sardinian","Sindhi","Northern Sami","Samoan","Sango","Serbian","Gaelic","Shona","Sinhala","Slovak","Slovenian","Somali","Southern Sotho","Spanish","Sundanese","Swahili","Swati","Swedish","Tamil","Telugu","Tajik","Thai","Tigrinya","Tibetan","Turkmen","Tagalog","Tswana","Tonga","Turkish","Tsonga","Tatar","Twi","Tahitian","Uyghur","Ukrainian","Urdu","Uzbek","Venda","Vietnamese","Volapük","Walloon","Wolof","Xhosa","Yiddish","Yoruba","Zhuang","Zulu"];function jt(e){let t,n,a,i,r,o,s,l;return{c(){t=_("label"),n=_("div"),a=_("span"),i=z(e[1]),r=S(),o=_("input"),m(a,"class","label-text"),m(n,"class","label"),m(o,"type","password"),m(o,"placeholder",e[0]),m(o,"class","input input-bordered"),m(t,"class","form-control w-full max-w-xs")},m(c,d){A(c,t,d),p(t,n),p(n,a),p(a,i),p(t,r),p(t,o),$e(o,e[0]),s||(l=[C(o,"input",e[3]),C(o,"change",e[2])],s=!0)},p(c,[d]){d&2&&V(i,c[1]),d&1&&m(o,"placeholder",c[0]),d&1&&o.value!==c[0]&&$e(o,c[0])},i:E,o:E,d(c){c&&M(t),s=!1,P(l)}}}function Lt(e,t,n){let{label:a=""}=t,{value:i=""}=t;function r(s){He.call(this,e,s)}function o(){i=this.value,n(0,i)}return e.$$set=s=>{"label"in s&&n(1,a=s.label),"value"in s&&n(0,i=s.value)},[i,a,r,o]}class Kt extends D{constructor(t){super(),R(this,t,Lt,jt,H,{label:1,value:0})}}function Ce(e){let t,n,a,i,r,o,s;return{c(){t=_("div"),n=_("div"),a=_("span"),i=z(e[0]),m(n,"class",r="alert text-wrap "+(e[2]?"alert-info":"alert-error")),m(t,"class","toast toast-top toast-end")},m(l,c){A(l,t,c),p(t,n),p(n,a),p(a,i),s=!0},p(l,c){(!s||c&1)&&V(i,l[0]),(!s||c&4&&r!==(r="alert text-wrap "+(l[2]?"alert-info":"alert-error")))&&m(n,"class",r)},i(l){s||(j(()=>{s&&(o||(o=xe(t,Se,{},!0)),o.run(1))}),s=!0)},o(l){o||(o=xe(t,Se,{},!1)),o.run(0),s=!1},d(l){l&&M(t),l&&o&&o.end()}}}function zt(e){let t,n,a=e[1]&&Ce(e);return{c(){a&&a.c(),t=tt()},m(i,r){a&&a.m(i,r),A(i,t,r),n=!0},p(i,[r]){i[1]?a?(a.p(i,r),r&2&&N(a,1)):(a=Ce(i),a.c(),N(a,1),a.m(t.parentNode,t)):a&&(Ue(),T(a,1,1,()=>{a=null}),qe())},i(i){n||(N(a),n=!0)},o(i){T(a),n=!1},d(i){a&&a.d(i),i&&M(t)}}}const Te=40;function Bt(e,t,n){let a="",i=!1,r=!0;function o(s,l){n(0,a=s.length>Te?s.slice(0,Te)+"...":s),n(1,i=!0),n(2,r=l),setTimeout(()=>{n(1,i=!1)},3e3)}return[a,i,r,o]}class Ft extends D{constructor(t){super(),R(this,t,Bt,zt,H,{setMessage:3})}get setMessage(){return this.$$.ctx[3]}}function Ht(e){let t,n,a,i,r,o,s,l,c,d,v,y,u,b,g,f;function h(k){e[9](k)}let w={label:"Pick a language",options:Ot};e[1]!==void 0&&(w.selection=e[1]),i=new Ae({props:w}),W.push(()=>ue(i,"selection",h)),i.$on("change",e[7]);function $(k){e[10](k)}let x={label:"Pick a model",options:["gpt-4o-mini","gpt-4o"]};e[2]!==void 0&&(x.selection=e[2]),l=new Ae({props:x}),W.push(()=>ue(l,"selection",$)),l.$on("change",e[6]);function B(k){e[11](k)}let Y={label:"Input your API key"};return e[3]!==void 0&&(Y.value=e[3]),u=new Kt({props:Y}),W.push(()=>ue(u,"value",B)),u.$on("change",e[8]),{c(){t=_("div"),n=_("div"),a=_("div"),F(i.$$.fragment),o=S(),s=_("div"),F(l.$$.fragment),d=S(),v=_("div"),v.textContent="Settings",y=S(),F(u.$$.fragment),m(a,"class","grid"),m(s,"class","grid mt-4"),m(v,"class","divider"),m(n,"class","w-64 h-96"),m(t,"class","flex justify-center")},m(k,I){A(k,t,I),p(t,n),p(n,a),L(i,a,null),p(n,o),p(n,s),L(l,s,null),p(n,d),p(n,v),p(n,y),L(u,n,null),f=!0},p(k,I){e=k;const be={};!r&&I&2&&(r=!0,be.selection=e[1],le(()=>r=!1)),i.$set(be);const ve={};!c&&I&4&&(c=!0,ve.selection=e[2],le(()=>c=!1)),l.$set(ve);const we={};!b&&I&8&&(b=!0,we.value=e[3],le(()=>b=!1)),u.$set(we)},i(k){f||(N(i.$$.fragment,k),N(l.$$.fragment,k),N(u.$$.fragment,k),g||j(()=>{g=We(t,Je,{axis:"x",duration:Ve}),g.start()}),f=!0)},o(k){T(i.$$.fragment,k),T(l.$$.fragment,k),T(u.$$.fragment,k),f=!1},d(k){k&&M(t),K(i),K(l),K(u)}}}function Rt(e){let t,n,a,i;return n=new gt({props:{language:e[1]}}),n.$on("grammar",e[5]("fix_grammar")),n.$on("elaborate",e[5]("elaborate")),n.$on("rewrite",e[5]("rewrite")),n.$on("summarize",e[5]("summarize")),n.$on("translate",e[5]("translate")),{c(){t=_("div"),F(n.$$.fragment),m(t,"class","flex items-center justify-center")},m(r,o){A(r,t,o),L(n,t,null),i=!0},p(r,o){e=r;const s={};o&2&&(s.language=e[1]),n.$set(s)},i(r){i||(N(n.$$.fragment,r),a||j(()=>{a=We(t,Je,{axis:"x",duration:Ve}),a.start()}),i=!0)},o(r){T(n.$$.fragment,r),i=!1},d(r){r&&M(t),K(n)}}}function Dt(e){let t,n,a,i,r,o,s,l,c,d,v;a=new Ct({});const y=[Rt,Ht],u=[];function b(f,h){return f[0]?0:1}r=b(e),o=u[r]=y[r](e),l=new bt({}),l.$on("home",e[12]),l.$on("options",e[13]);let g={};return d=new Ft({props:g}),e[14](d),{c(){t=_("div"),n=_("div"),F(a.$$.fragment),i=S(),o.c(),s=S(),F(l.$$.fragment),c=S(),F(d.$$.fragment),m(n,"class","mb-6"),m(t,"class","bg-base-100 ml-4 mr-4 w-80 h-96")},m(f,h){A(f,t,h),p(t,n),L(a,n,null),p(t,i),u[r].m(t,null),p(t,s),L(l,t,null),A(f,c,h),L(d,f,h),v=!0},p(f,[h]){let w=r;r=b(f),r===w?u[r].p(f,h):(Ue(),T(u[w],1,1,()=>{u[w]=null}),qe(),o=u[r],o?o.p(f,h):(o=u[r]=y[r](f),o.c()),N(o,1),o.m(t,s));const $={};d.$set($)},i(f){v||(N(a.$$.fragment,f),N(o),N(l.$$.fragment,f),N(d.$$.fragment,f),v=!0)},o(f){T(a.$$.fragment,f),T(o),T(l.$$.fragment,f),T(d.$$.fragment,f),v=!1},d(f){f&&M(t),K(a),u[r].d(),K(l),f&&M(c),e[14](null),K(d,f)}}}const Ve=400;function Ut(e,t,n){let a=!0,i="English",r="gpt-4o-mini",o="sk-proj-TrU-RWW...",s;st(async()=>{n(3,o=await fe("natto_apikey")??o),n(2,r=await fe("natto_model")??r),n(1,i=await fe("natto_translation_language")??i),console.log("apikey",o)});function l(w){return async function(){let{text:$}=await Ee({action:"get_selected_text"});try{if(w=="fix_grammar")$=await kt(o,r,$);else if(w=="elaborate")$=await xt(o,r,$);else if(w=="rewrite")$=await Et(o,r,$);else if(w=="summarize")$=await St(o,r,$);else if(w=="translate")$=await Mt(o,r,$,i);else throw new Error("Unable to perform this action")}catch(x){s.setMessage(x.substring(0,40)+"...",!1);return}await Ee({action:"replace_selected_text",text:$}),s.setMessage("Done",!0)}}async function c(w){await chrome.storage.local.set({natto_model:r})}async function d(w){await chrome.storage.local.set({natto_translation_language:i})}async function v(w){await chrome.storage.local.set({natto_apikey:o}),s.setMessage("Updated",!0)}function y(w){i=w,n(1,i)}function u(w){r=w,n(2,r)}function b(w){o=w,n(3,o)}const g=()=>n(0,a=!0),f=()=>n(0,a=!1);function h(w){W[w?"unshift":"push"](()=>{s=w,n(4,s)})}return[a,i,r,o,s,l,c,d,v,y,u,b,g,f,h]}class qt extends D{constructor(t){super(),R(this,t,Ut,Dt,H,{})}}new qt({target:document.getElementById("app")});
